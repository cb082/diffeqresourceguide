<!--
- The power of abstraction
- Deterministic transition systems
    • X = State space
    • A = Alphabet of "legal moves" or "actions"
    • \delta : A x X -> X = Transition function
- Deterministic automata (DA)
    • deterministic transition system
    • \alpha : X -> 2 = Accept/reject function
- Drawing DAs
    • Circles, double cicles, arrows, and labels
    • Transition tables
- Basic examples:
    • The empty automaton
    • Parity recognition and modular arithmetic
- Intuitive notion of word acceptance by a "starting state"
- Using a sink to simulate borkedness (CJ's pergatory)
-->

<h1>Automata</h1>
<p>
    Last time, we saw that state diagrams were useful as compact representations of some top-down puzzle games like Sokoban and mazes.
    Our definition of "state diagram" was a bit informal, but that was actually for good reason: they are supposed to be useful pictures, not mathematical objects per-se. 
    This section is about the <i>formal</i> definition of automaton and its consequences. 
</p>
<p>
    <i>What do you mean by formal?</i> 
    Well, I'm so glad you asked. 
    A <i>formal definition</i> is really a precise, unambiguous description (as in it cannot be interpreted in more than one way) of a mathematical object.
    The <i>data</i> of a formal definition consists of all of the components of the object it is defining.
    In our case, the mathematical object in question is a mathematical model of a computer called an <i>automaton</i>, and the data of the definition is contained in the bullet points below it.
</p>

<div class="definition" id="automaton">
    <b>(Automaton)</b>
    An <i>automaton</i> \(\mathcal A = (Q, A, \delta, F)\) consists of the following data:
    <ul>
        <li>A set \(Q\) of <i>states</i>, called the <i>state space</i></li>
        <li>A set \(A\) of <i>input letters</i>, called the <i>input alphabet</i></li>
        <li>A set \(\delta \subseteq Q \times A \times Q\) of <i>transitions</i>, called the <i>transition relation</i></li>
        <li>A set \(F \subseteq Q\) of <i>final</i> (also called <i>accepting</i>) <i>states</i></li>
    </ul>
    Given states \(x_1,x_2 \in Q\) and an input letter \(a \in A\), we write \(x_1 \xrightarrow{a}_\delta x_2\) to mean that \((s_1, a, s_2) \in \delta\).
    Furthermore, given \(x \in Q\) and in input letter \(a \in A\), we define the set of <i>outgoing \(a\)-transitions from state \(x\)</i> by
    \[
        \delta(x, a) = \{y \in Q \mid x \xrightarrow{a}_\delta y\}
    \]
</div>

<p>
    Recall that a <i>relation</i> is a set of tuples, which are immutable finite lists (just like in Python). 
    In the definition of <i>automaton</i>, the transition relation is a <i>trinary</i> relation, which means it consists of a set of triples \((x, a, y)\), immutable lists of length \(3\).
    Every automaton can be drawn visually using a state diagram, just the ones we drew in the previous section.
    Recall this example from last time:
</p>

<div class="figure">
    <img src="../imgs/reverseengineering.png" />
    Abstract state diagram (A)
</div>

<p>
    Abstract state diagram (A) is a visual depiction of the automaton \(\mathcal A = (Q, A, \delta, F)\), where 
    \[
        \begin{aligned}
            Q &= \{s_1, s_2, s_3, s_4\} \\
            A &= \{\Uparrow, \Rightarrow, \Downarrow, \Leftarrow\} \\
            \delta &= \{
                    (s_1, \Rightarrow, s_2), 
                    (s_2, \Leftarrow, s_4), 
                    (s_2, \Downarrow, s_3), 
                    (s_3, \Uparrow, s_2), 
                    (s_4, \Rightarrow, s_2), 
            \} \\
            F &= \{s_2, s_3, s_4\}
        \end{aligned}
    \]
    Here, we have taken the final states of \(\mathcal A\) to be the <i>winning</i> states. 
</p>

<p>
    Just like before, an easy way to write down the transition relation of an automaton is using its <i>transition table</i>.
</p>

<div class="definition">
    <b>(Transition Table)</b>
    Given an <i>automaton</i> \(\mathcal A = (Q, A, \delta, F)\), the <i>transition table</i> for \(\mathcal A\) is a 2-dimensional table where 
    <ul>
        <li>Each row of the table corresponds to a state \(x \in Q\)</li>
        <li>The first column of the table records whether the row's state is accepting (\(=1\)) or not accepting (\(=0\))</li>
        <li>All columns but the first colum correspond to an input letter </li>
        <li>In the column corresponding to \(a\) and row corresponding to \(x\), we record the outgoing \(a\)-transitions from \(x\)</li>
    </ul>
    <div class="figure">
        <table>
            <tr>
                <td style="color:gray">
                    \(\to\)
                </td>
                <td>
                    \(\cdots\)
                </td>
                <td>
                    \(a\)
                </td>
            </tr>
            <tr>
                <td>
                    \(\vdots\)
                </td>
                <td>
                </td>
                <td>
                    \(\vdots\)
                </td>
            </tr>
            <tr>
                <td>
                    \(x\)
                </td>
                <td>
                    \(\cdots\)
                </td>
                <td>
                    \(\delta(x, a)\)
                </td>
            </tr>
        </table>
    </div>
</div>

<p>
    Transition tables allow us to go back and forth between state diagrams and automata.
    For example, the transition table for abstract state diagram (A) (\(\mathcal A\) above) is below:
</p>
<div class="figure">
    <table>
        <tr>
            
        </tr>
    </table>
</div>

<div class="exercise">
    Determine the state space \(Q\), the input alphabet \(A\), and the accepting states \(F\) of the automata below and write down their transition tables.
    <table class="alignenv">
        <tr>
            <td>\(\mathcal A_1\)</td>
            <td><img src="../imgs/1_1_automaton1b.png" /></td>
        </tr>
        <tr>
            <td>\(\mathcal A_2\)</td>
            <td><img src="../imgs/1_1_automaton1.png" /></td>
        </tr>
        <tr>
            <td>\(\mathcal A_3\)</td>
            <td><img src="../imgs/1_1_automaton2.png" class="svgscale"/></td>
        </tr>
    </table>
</div>